name = "deja"
main = "src/index.ts"
compatibility_date = "2024-01-01"

account_id = "bfcb6ac5b3ceaf42a09607f6f7925823"

# Custom domain - requires Workers Routes permission
# routes = [
#   { pattern = "deja.coey.dev", zone_id = "1563da24f904f018b89fdcb2147c558b" }
# ]

# For now, deploy to workers.dev
workers_dev = true

[durable_objects]
bindings = [
  { name = "DEJA", class_name = "DejaDO" }
]

[[migrations]]
tag = "v1"
new_classes = ["DejaDO"]

[ai]
binding = "AI"

[triggers]
crons = ["0 0 * * *"]
[[vectorize]]
binding = "VECTORIZE"
index_name = "deja-embeddings"
